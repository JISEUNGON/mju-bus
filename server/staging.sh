clear
echo "\033[34m"
echo " __  __                          _ _                     _        ___  "
echo "|  \/  |_   _  ___  _ __   __ _ (_(_)                   / |      / _ \ "
echo "| |\\/| | | | |/ _ \\| '_ \\ / _\` || | |                   | |     | | | |"
echo "| |  | | |_| | (_) | | | | (_| || | |                   | |  _  | |_| |"
echo "|_|__|_|\\__, |\\___/|_|_|_|\__, _/ |_|  _ _           _  |_| (_)  \___/ "
echo "| __ ) _|___/___     / \\  |___|__/ __ | (_) ___ __ _| |_(_) ___  _ __  "
echo "|  _ \\| | | / __|   / _ \\ | '_ \| '_ \\| | |/ __/ _\` | __| |/ _ \\| '_ \ "
echo "| |_) | |_| \__ \  / ___ \| |_) | |_) | | | (_| (_| | |_| | (_) | | | |"
echo "|____/ \__,_|___/ /_/   \_| .__/| .__/|_|_|\___\__,_|\__|_|\___/|_| |_|"
echo "                          |_|   |_|                                    "
echo "\033[0m"

echo "\033[32m"
echo "======================================================================="
echo "‖            [STAGING]            1. Clean API Server                 ‖"
echo "======================================================================="
echo "\033[0m"
cd server/
./gradlew clean
cd ../

echo "\033[32m"
echo "======================================================================="
echo "‖            [STAGING]            2. Build API Server                 ‖"
echo "======================================================================="
echo "\033[0m"
cd server/
./gradlew build
cd ../

echo "\033[32m"
echo "======================================================================="
echo "‖            [STAGING]            3. Deploy to API Server             ‖"
echo "======================================================================="
echo "\033[0m"
cd server/build/libs/
scp -P 8022 *-SNAPSHOT.jar ubuntu@staging-api.mju-bus.com:~/api-server/